.s-data-table {
  border-radius: 0;

  :deep(th.v-data-table__th) {
    --v-table-header-height: 36px;
    font-weight: 600;
    font-size: toRem(14);
    background: #F7F9FA;
    position: relative;

    .v-selection-control.v-checkbox-btn .v-icon--size-default {
      font-size: 1.3rem;
    }

    // 커스텀 정렬 아이콘 스타일
    .custom-sort-icon {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 16px;
      opacity: 0;
      cursor: pointer;
    }

    .custom-sort-icon.active {
      opacity: 1;
      color: #666;
    }

    // hover 상태일 때 아이콘 표시
    th:hover .custom-sort-icon {
      opacity: 1;
    }

    .custom-sort-icon.asc {
      transform: translateY(-50%);
    }

    .custom-sort-icon.desc {
      transform: translateY(-50%);
    }

    // 리사이즈 핸들 스타일
    .resize-handle {
      position: absolute;
      right: -25px; // 세로선의 중앙에 위치하도록 조정
      top: 0;
      bottom: 0;
      width: 8px;
      cursor: col-resize;
      background: transparent;
      z-index: 10;

      &::before {
        content: '';
        position: absolute;
        right: 3px; // 핸들 중앙에 선 위치
        top: 0;
        bottom: 0;
        width: 2px;
        background: transparent;
        transition: background-color 0.2s ease;
      }

      &:hover {
        background: rgba(27, 117, 187, 0.1);
      }

      &:active {
        background: rgba(27, 117, 187, 0.2);
      }
    }
  }

  :deep(tr.v-data-table__tr) {
    &:hover {
      > td {
        background-color: rgba(27, 117, 187, 0.1);
      }
    }
  }

  :deep(td.v-data-table__td) {
    --v-border-color: 0, 0, 0;
    --v-table-row-height: 42px;
    font-size: toRem(14);
    font-weight: 400;

    // 모든 셀 내용에 대한 기본 텍스트 처리
    > * {
      width: 100%;
      max-width: 100%;
      word-break: break-word;
      white-space: normal;
      overflow-wrap: break-word;
      box-sizing: border-box;
    }

    .v-selection-control.v-checkbox-btn {
      &.v-selection-control--disabled {
        cursor: not-allowed;
      }
      .v-icon--size-default {
        font-size: 1.3rem;
      }
    }

    .v-chip__content {
      height: inherit;
    }


    // 하이라이트 기본 스타일
    &:has(.s-highlight-default) {
      background-color: $s-default--gray-4;
      color: $s-default--gray-9;
    }

    // 커스텀 하이라이트 클래스들
    &:has(.s-highlight-info) {
      background-color: $s-btn--blue-3;
      color: $s-btn--blue-1;
    }

    &:has(.s-highlight-error) {
      background-color: $s-btn--red-3;
      color: $s-btn--red-1;
    }

    &:has(.s-highlight-success) {
      background-color: $s-btn--green-3;
      color: $s-btn--green-1;
    }
  }

  .status-chip {
    color: white;
    font-weight: 300;
  }

  .no-data {
    color: #ccc;
  }

  .s-data-table-column__text {
    width: inherit;
  }

  // 말줄임 관련 클래스들
  .s-ellipsis {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: 100% !important;
  }

  .s-ellipsis--off {
    overflow: visible !important;
    text-overflow: initial !important;
    white-space: normal !important;
    max-width: none !important;
    -webkit-line-clamp: none !important;
    line-clamp: none !important;
    -webkit-box-orient: initial !important;
    display: initial !important;
  }

  .s-ellipsis--multi-2 {
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  .s-ellipsis--multi-3 {
    display: -webkit-box !important;
    -webkit-line-clamp: 3 !important;
    line-clamp: 3 !important;
    -webkit-box-orient: vertical !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  .s-table-column__text {
    display: inline-block;
    width: 100%;
    box-sizing: border-box;

    // 기본적으로 말줄임 적용
    &.s-ellipsis {
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      white-space: nowrap !important;
      max-width: 100% !important;
    }

    // 말줄임 비활성화
    &.s-ellipsis--off {
      overflow: visible !important;
      text-overflow: initial !important;
      white-space: normal !important;
      max-width: none !important;
    }
  }

  &.hide-footer {
    > :deep(.v-data-table-footer) {
      display: none !important;
    }
  }
  :deep(.v-btn:hover) > .v-btn__overlay {
    opacity: 0.1;
  }

  :deep(.v-btn--disabled.v-btn--variant-flat) .v-btn__overlay {
    opacity: 1;
    background: transparent;
  }

  .s-data-table-pagination {
    position: relative;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    color: #333;
    margin-top: 60px;

    :deep(.v-pagination__item--is-active) {
      color: white;

      .v-btn--disabled {
        color: white;

        &.v-btn--variant-flat .v-btn__content {
          font-size: 12px;
          font-weight: 700;
          color: #fff;
        }
      }
    }
  }

  &.fixed-table :deep(table) {
    table-layout: fixed;

    tbody .v-data-table__td {
      > * {
        width: 100%;
        max-width: 100%;
        display: inline-block;
        word-break: break-word;
        white-space: normal;
        overflow-wrap: break-word;
      }

      &:has(span + i) {
        span {
          max-width: calc(100% - 30px);
        }
      }
    }
  }

  .right-move {
    position: absolute;
    right: 0;
  }

  :deep(.v-table__wrapper) {
    border-top:solid 1px #000;
    border-bottom:solid 1px #ddd;
    overflow-x: auto; // 가로 스크롤 허용

    > table {
      table-layout: fixed;
      width: auto; // 동적 너비 허용
      min-width: 100%; // 최소 너비는 컨테이너 100%

      // 컬럼 너비 변경 시 깜박임 방지
      th, td {
        transition: none !important;
      }
    }

    .material-icons{
      color:#191919;
      font-size:14px;
      position: relative;
      top:-1px;
    }

    > table > tbody > tr > td,
    > table > tbody > tr > th,
    > table > thead > tr > td,
    > table > thead > tr > th,
    > table > tfoot > tr > td,
    > table > tfoot > tr > th {
      padding: 0 20px;
      border-right: 1px solid #e0e0e0;
      box-sizing: border-box; // 패딩과 보더를 포함한 정확한 너비 계산

      // 리사이즈 중 안정적인 너비 유지
      overflow: hidden;
      word-wrap: break-word;

      &:last-child {
        border-right: none;
      }
    }

    > table > thead > tr > th {
      background: #F7F9FA;
      text-transform: capitalize;
    }

    tbody tr:not(:last-child) > td,
    tbody tr:not(:last-child) > th {
      border-bottom: thin solid rgba(var(--v-border-color), var(--v-border-opacity));
    }

    tfoot tr > td {
      font-weight: 600;
    }
  }
}

.s-data-table-pagination {
  :deep(.v-pagination__item.v-pagination__item--is-active) {
    .v-btn__overlay {
      opacity: 0;
    }

    .v-btn__content {
      font-weight: 600;
    }

  }

  :deep(.v-pagination__item) {
    .v-btn__content {
      font-weight: 400;
    }
  }

}
